<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Surprise</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  text-align:center;
  background:pink;
  overflow-x:hidden;
}

/* Curtain Opening Animation */
#curtain{
  position:fixed;
  width:100%;
  height:100%;
  background:#ff4d88;
  z-index:9999;
  animation:openCurtain 2s forwards;
}

@keyframes openCurtain{
  0%{transform:scaleY(1);}
  100%{transform:scaleY(0);}
}

/* Curtain Close Animation for Page 5 */
#curtainClose{
  position:fixed;
  width:100%;
  height:0%;
  background:pink;
  top:0;
  left:0;
  z-index:9999;
  pointer-events:none;
}

@keyframes closeCurtain{
  0%{height:0%;}
  100%{height:100%;}
}

/* Pages */
.page{
  display:none;
  padding:100px 20px 50px 20px;
  box-sizing:border-box;
}

/* Buttons */
button{
  padding:12px 25px;
  font-size:16px;
  border:none;
  border-radius:25px;
  background:#ff0066;
  color:white;
  cursor:pointer;
  margin-top:20px;
  transition:0.3s;
}

button:hover{
  transform:scale(1.1);
}

/* Meter */
#meterBox{
  width:70%;
  max-width:400px;
  margin:20px auto;
  background:white;
  border-radius:20px;
  overflow:hidden;
}

#meter{
  width:0%;
  height:25px;
  background:#ff0066;
  color:white;
  line-height:25px;
  transition:width 0.1s linear;
}

/* Fade animation */
.fade{
  animation:fadeIn 1s;
}

@keyframes fadeIn{
  from{opacity:0;}
  to{opacity:1;}
}

/* Photo animation */
.photo{
  border-radius:20px;
  width:80%;
  max-width:300px;
  animation:float 3s ease-in-out infinite alternate;
}

@keyframes float{
  from{transform:translateY(0);}
  to{transform:translateY(-20px);}
}

/* Hearts */
#hearts{
  position:fixed;
  width:100%;
  height:100%;
  top:0;
  left:0;
  pointer-events:none;
}

.heart{
  position:absolute;
  animation:rise linear infinite;
}

@keyframes rise{
  0%{transform:translateY(100vh);opacity:1;}
  100%{transform:translateY(-10vh);opacity:0;}
}

/* Responsive Text */
h1,h2{
  margin:10px;
  word-wrap:break-word;
}

@media screen and (max-width:768px){
  h1{
    font-size:6vw;
  }
  h2{
    font-size:5vw;
  }
  #meterBox{
    width:90%;
  }
  .photo{
    width:90%;
  }
  button{
    font-size:14px;
    padding:10px 20px;
  }
}
</style>
</head>
<body>

<div id="curtain"></div>

<audio id="loadingSound" src="loading.mp3"></audio>
<audio id="funnySound" src="funny.mp3"></audio>
<audio id="loveMusic" src="love.mp3" loop></audio>

<!-- Page 1 -->
<div id="page1" class="page fade" style="display:block;">
  <h1>‚ö†Ô∏è We Need To Talk...</h1>
  <button onclick="goPage2()">Next</button>
</div>

<!-- Page 2 -->
<div id="page2" class="page fade">
  <h2>Checking Relationship Status...</h2>
  <div id="meterBox">
    <div id="meter">0%</div>
  </div>
</div>

<!-- Page 3 -->
<div id="page3" class="page fade">
  <h2>Actually‚Ä¶ Onnu illa Summa dhanüòú</h2>
  <div id="prankContent" style="display:none;">
    <img src="funny.jpg" class="photo">
    <p>Click Next üòÇ</p>
    <button onclick="goPage4()">Next</button>
  </div>
</div>

<!-- Page 4 -->
<div id="page4" class="page fade">
  <h1>Happy Valentine‚Äôs Day ‚ù§Ô∏è</h1>
  <h2>I LOVE YOU MAMAüíû</h2>
  <button onclick="goPage5()">Next</button>
</div>

<!-- Page 5 -->
<div id="page5" class="page fade">
  <h1>First Valentine‚Äôs, first of foreverüíû</h1>
  <img src="ourphoto.jpeg" class="photo">
</div>

<div id="hearts"></div>
<div id="curtainClose"></div>

<script>
const loadingSound=document.getElementById("loadingSound");
const funnySound=document.getElementById("funnySound");
const loveMusic=document.getElementById("loveMusic");
const meter=document.getElementById("meter");
const heartsContainer=document.getElementById("hearts");
const curtainClose=document.getElementById("curtainClose");

function safePlay(audio){
  audio.play().catch(()=>{});
}

function show(id){
  document.querySelectorAll(".page").forEach(p=>p.style.display="none");
  document.getElementById(id).style.display="block";
}

// Page 2 with 15-second meter
function goPage2(){
  show("page2");
  safePlay(loadingSound);
  setTimeout(()=>{loadingSound.pause();},5000);

  let width=0;
  const totalTime=15000; // 15 seconds
  const intervalTime=100; // update every 0.1s
  const increment=100/(totalTime/intervalTime); // percentage per step

  const interval=setInterval(()=>{
    if(width>=100){
      clearInterval(interval);
      setTimeout(goPage3,500);
    }else{
      width+=increment;
      if(width>100) width=100;
      meter.style.width=width+"%";
      meter.innerHTML=Math.floor(width)+"%";
    }
  }, intervalTime);
}

function goPage3(){
  show("page3");
  setTimeout(()=>{
    document.getElementById("prankContent").style.display="block";
    safePlay(funnySound);
  },2000);
}

function goPage4(){
  show("page4");
  safePlay(loveMusic);
  startHearts();
}

function goPage5(){
  show("page5");
  startHearts();

  // Auto-close page 5 after 15 seconds with curtain animation
  setTimeout(()=>{
    curtainClose.style.animation="closeCurtain 2s forwards";
    loveMusic.pause();
    heartsContainer.innerHTML="";
  },15000);
}

function startHearts(){
  heartsContainer.innerHTML="";
  for(let i=0;i<60;i++){
    let heart=document.createElement("div");
    heart.className="heart";
    heart.innerHTML="‚ù§Ô∏è";
    heart.style.left=Math.random()*100+"%";
    heart.style.fontSize=(Math.random()*25 + 15)+"px";
    heart.style.animationDuration=(Math.random()*3 + 4)+"s";
    heart.style.animationDelay=(Math.random()*5)+"s";
    heartsContainer.appendChild(heart);
  }
}
</script>

</body>
</html>
